-- Stand Power GUI (Compact Style) - ย่อขนาด & ระยะห่างให้เหมาะสม ดูดีแบบตัวอย่าง
-- หัว GUI: STAND (เหลือง) + POWER (ม่วง) แบบ 2 บรรทัด
-- ฟีเจอร์: AntiFling, AutoTP, Set Spawn, DiedTP, AntiIdle (ไม่มี autoclick bar)

local player = game.Players.LocalPlayer
local gui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
gui.Name = "StandPowerGUI"
gui.ResetOnSpawn = false

--------------------- Compact Stand Power Frame ---------------------
local frame = Instance.new("Frame", gui)
frame.Size = UDim2.new(0, 330, 0, 300)
frame.Position = UDim2.new(0, 60, 0, 100)
frame.BackgroundColor3 = Color3.fromRGB(26, 29, 36)
frame.BorderSizePixel = 0

-- STAND POWER Header (สองบรรทัด สองสี) (เปลี่ยน "ยืน" เป็น "STAND")
local standLabel = Instance.new("TextLabel", frame)
standLabel.Size = UDim2.new(1, 0, 0, 34)
standLabel.Position = UDim2.new(0, 0, 0, 4)
standLabel.BackgroundTransparency = 1
standLabel.Font = Enum.Font.GothamBlack
standLabel.TextSize = 28
standLabel.TextColor3 = Color3.fromRGB(255, 215, 48) -- เหลืองทอง
standLabel.TextStrokeTransparency = 0.7
standLabel.TextStrokeColor3 = Color3.fromRGB(90, 60, 0)
standLabel.Text = "STAND"
standLabel.TextYAlignment = Enum.TextYAlignment.Top

local powerLabel = Instance.new("TextLabel", frame)
powerLabel.Size = UDim2.new(1, 0, 0, 34)
powerLabel.Position = UDim2.new(0, 0, 0, 30)
powerLabel.BackgroundTransparency = 1
powerLabel.Font = Enum.Font.GothamBlack
powerLabel.TextSize = 28
powerLabel.TextColor3 = Color3.fromRGB(170, 52, 255) -- ม่วงสด
powerLabel.TextStrokeTransparency = 0.7
powerLabel.TextStrokeColor3 = Color3.fromRGB(60, 0, 90)
powerLabel.Text = "POWER"
powerLabel.TextYAlignment = Enum.TextYAlignment.Top

-- ขนาดและระยะห่างใหม่ (ดูดีขึ้น)
local y0 = 70
local rowH = 32
local leftX = 14
local btnW, btnH = 170, 30
local btnFontSize = 17

local function makeStatusCircle(parent, color, y)
    local cir = Instance.new("Frame", parent)
    cir.Size = UDim2.new(0, 16, 0, 16)
    cir.Position = UDim2.new(0, leftX, 0, y+7)
    cir.BackgroundColor3 = color
    cir.BorderSizePixel = 0
    cir.Name = "StatusCircle"
    local uicorner = Instance.new("UICorner", cir)
    uicorner.CornerRadius = UDim.new(1,0)
    return cir
end
local statusColors = {
    on = Color3.fromRGB(80,210,80),
    off = Color3.fromRGB(210,50,50)
}
local darkbtn = Color3.fromRGB(47,52,65)
local bluebtn = Color3.fromRGB(66,117,143)

-- 1. AntiFling
local antiflingCircle = makeStatusCircle(frame, statusColors.off, y0)
local antiflingBtn = Instance.new("TextButton", frame)
antiflingBtn.Size = UDim2.new(0, btnW, 0, btnH)
antiflingBtn.Position = UDim2.new(0, leftX+26, 0, y0+2)
antiflingBtn.Text = "AntiFling : ปิด"
antiflingBtn.Font = Enum.Font.GothamBold
antiflingBtn.TextSize = btnFontSize
antiflingBtn.BackgroundColor3 = darkbtn
antiflingBtn.TextColor3 = Color3.new(1,1,1)
antiflingBtn.BorderSizePixel = 0

-- 2. AutoTP
local autotpcircle = makeStatusCircle(frame, statusColors.off, y0+rowH)
local autotpswitch = Instance.new("TextButton", frame)
autotpswitch.Size = UDim2.new(0, btnW, 0, btnH)
autotpswitch.Position = UDim2.new(0, leftX+26, 0, y0+rowH+2)
autotpswitch.Text = "AutoTP : ปิด"
autotpswitch.Font = Enum.Font.GothamBold
autotpswitch.TextSize = btnFontSize
autotpswitch.BackgroundColor3 = darkbtn
autotpswitch.TextColor3 = Color3.new(1,1,1)
autotpswitch.BorderSizePixel = 0

local autosetBtn = Instance.new("TextButton", frame)
autosetBtn.Size = UDim2.new(0, 110, 0, btnH)
autosetBtn.Position = UDim2.new(0, leftX+26+btnW+12, 0, y0+rowH+2)
autosetBtn.Text = "Set AutoTP"
autosetBtn.Font = Enum.Font.GothamBold
autosetBtn.TextSize = 15
autosetBtn.BackgroundColor3 = bluebtn
autosetBtn.TextColor3 = Color3.new(1,1,1)
autosetBtn.BorderSizePixel = 0

-- 3. Set Spawn
local spawnCircle = makeStatusCircle(frame, statusColors.off, y0+rowH*2)
local spawnBtn = Instance.new("TextButton", frame)
spawnBtn.Size = UDim2.new(0, btnW, 0, btnH)
spawnBtn.Position = UDim2.new(0, leftX+26, 0, y0+rowH*2+2)
spawnBtn.Text = "Set Spawn"
spawnBtn.Font = Enum.Font.GothamBold
spawnBtn.TextSize = btnFontSize
spawnBtn.BackgroundColor3 = darkbtn
spawnBtn.TextColor3 = Color3.new(1,1,1)
spawnBtn.BorderSizePixel = 0

-- 4. DiedTP
local diedtpCircle = makeStatusCircle(frame, statusColors.off, y0+rowH*3)
local diedtpBtn = Instance.new("TextButton", frame)
diedtpBtn.Size = UDim2.new(0, btnW, 0, btnH)
diedtpBtn.Position = UDim2.new(0, leftX+26, 0, y0+rowH*3+2)
diedtpBtn.Text = "DiedTP"
diedtpBtn.Font = Enum.Font.GothamBold
diedtpBtn.TextSize = btnFontSize
diedtpBtn.BackgroundColor3 = darkbtn
diedtpBtn.TextColor3 = Color3.new(1,1,1)
diedtpBtn.BorderSizePixel = 0

-- 5. Antiidle
local antiidleCircle = makeStatusCircle(frame, statusColors.off, y0+rowH*4)
local antiidleBtn = Instance.new("TextButton", frame)
antiidleBtn.Size = UDim2.new(0, btnW, 0, btnH)
antiidleBtn.Position = UDim2.new(0, leftX+26, 0, y0+rowH*4+2)
antiidleBtn.Text = "Antiidle (Off)"
antiidleBtn.Font = Enum.Font.GothamBold
antiidleBtn.TextSize = btnFontSize
antiidleBtn.BackgroundColor3 = bluebtn
antiidleBtn.TextColor3 = Color3.new(1,1,1)
antiidleBtn.BorderSizePixel = 0

-------------------- LOGIC (เฉพาะตัวอย่างปุ่ม Antiidle) ------------------
local antiidleEnabled = false
local antiidleConn = nil
antiidleBtn.MouseButton1Click:Connect(function()
    antiidleEnabled = not antiidleEnabled
    antiidleBtn.Text = "Antiidle ("..(antiidleEnabled and "On" or "Off")..")"
    antiidleCircle.BackgroundColor3 = antiidleEnabled and statusColors.on or statusColors.off
    if antiidleConn then pcall(function() antiidleConn:Disconnect() end) antiidleConn = nil end
    if antiidleEnabled then
        local vu = game:GetService("VirtualUser")
        antiidleConn = player.Idled:Connect(function()
            vu:Button2Down(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
            wait(1)
            vu:Button2Up(Vector2.new(0,0),workspace.CurrentCamera.CFrame)
        end)
    end
end)
